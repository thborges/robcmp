
type t0 {
    a = 0;
    int8 callf(int8 x) {
        return x+1;
    }
}

type t1 {
    c = {0:2};
    m = {{0:2}:2};
    b = t0();
}

type t2 {
    d = {0:2};
    e = t1();

    void sett2(t2 tt) {
        tt.d[0] = 1;
        tt.e.c[0] = 1;
        tt.e.m[0][1] = 1;
    }
}

int16 main() {
    x = t2(); 
    x.e.b.a = 0 + x.e.b.callf(-1);
    x.sett2(x);

    x.e.c[1] = 1;
    x.e.m[1][1] = 1;

    if x.e.b.a == 0 and x.d[0] == 1 and x.e.c[0] == 1 and x.e.c[0] == 1 and
       x.e.m[0][1] == 1 and x.e.m[1][1] == 1 {
        return 0;
    }
    return 1;
}
